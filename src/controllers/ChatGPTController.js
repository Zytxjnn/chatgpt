import { ChatGPTAPI } from 'chatgpt'

export class ChatGPTController {
    ctx;

    constructor(ctx) {
        this.ctx = ctx;
        this.api = new ChatGPTAPI({
            sessionToken: 'eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..T-N-WRBwuXkh67B5.o-xZZuwq68M1VSfxeoaoDLpCEC7kWxVW3NcjKlWJ65qC5WJPmgqu4iy4pIYBIMIb5pTX-qijy69__4a_J8k95EnuVEvQ6QKlX4g2oVi3Zjo5WBpz3JXbQV2cb7ulCsrilOHL0toa1msmPbJNihxv2KjdYF-_aZ8faLhYyeZFAyV8apUoKV4F2PFg3AurUYp16dvOMYPuLJV6tj28XxsD85fplnmTa8TEjTpR4R6Wriu10hERLehDQoc7i1d9bs29XjmtW9rXNKEREB3AzYtDPZif1ZRG0hx-RLRNT3Hw8oNNB8IJ_R00_UyoyxRxZpOn7degIuYWUGCTu_YB-7AqGxFZzRTdVmvZj_k57uVHYmvHfK6BU11CPXpWjo9I1LrHtmOquAf7hkk5t4b3UuvQ8VthGPrlRG-6Aioe3OlfblHjx7SOtRz6dXcBR1mixeHAroyQjkZEWvWNEIVwthC0NL6jL_6u9qQ8_AuJy5vZMFeqnq9gpMXSsJVVTXjMtnvtgAjEyEXvVGOYtg3EasUl940jSsP1gSs8SxPccxZ1ttAIIMyJSp8AO0OKy_wKvVXac_qbHKGPLijVzY-YVvndLU5qJLYVUdXfGni8HF8w3bTUN12_K2lQX9ZSnu1AXiPOua6bzg1wnViEVtl4J9jDBzYbGicI55GoDwz9dNfC1IGfHSTniXQ-Ob9MGD_p9edWPdHZ_LuyzSxYM-5TCBtYBhqVpfmfm50lt-MgiURENP1c4MY2PHsHr6O2_D95qQ4aF_0ElEbTOOEB6f4pe2kWt5ycRkgc6Xi-pEtpzwgc_x1JWTI8GDFR0YvsOStMNXfaPa_MCNGVx2PyDjJ9Z6fzUWr9FZDz8-dOYzjL9GO6n6iZj84mhHrRTOMFdPdHNs52t5eerJvSe0VrkK7OX-Lh7LwJBeQCAdO6hRgWUgGBdbinCB7SOPIT4AiWZZ9QddrISt1qta2uwDRVzFrx8qDCmU1KI2FKRqEEaoPWVe0c7eeNlC3756tDnkycybMUjDhfxq7PV7WAksvRkn6JfhNKJVIt1482KP0n4BEN4B7VlTEznNAfL4iir5BaHprYTmC67Zvq3OLsg8G70jzo8I-QvqtbVhAHlJCDq7JNO7fyO_qpyb1Ra_zu3fAN2ZfZafdmYX0SyWiiXn_84PtOstb2pZjTd2ndnshLYsdemWxxIQxYZWVMscvdssP7VPwXYkKA9PXWhxlQof3UnmUU5XFMbUW-bJEIxBScOUxQH9MMNou1kEz9WduzvcZeY4bA01u65pjEdI_5WGP7E5ePB-gAvLNDXjPk68-n-avoZj67MOJmlRFdDlHFQs3J5gi84qLnTxwYgfQQn2dMIpFP08mU_TbNtOdwcwFcrvYObE5ygCHyOinpLSB0KusWP6sxc0xIiwz9Czog97pqL4x7j3n1yDo8m6-TUdrIvn4Keqzo-idVD-94aR9c057OpJd3zl_0diCYX9_ihg3ZtkbCQL7x-ZVf6H8gEGb75tsGu8C6JOLLAx8-3pGUexKUmWwkadywHhkLnb_htmNy6sglGq-3tHIRL7gGPtgjHhXYczRYGPJFEZ2RLCTS3WSVb9-fBxtoKDRTiA-nxWMoGq1V0-PZ3VBgkEVXvsj2Kh7cV7iHuTWI2fHD2hxwAm6DW0ruVtpHzAX7rX5d0qo3c7N0RbyEFo9udmTMUgAJcSEIII6XKurXgbEDRqnD_lmYC7G4w0e4pqTXEq7L8qO_3-hURN4wz6jDkmNb6FOhIFyKm7vtwpvGB5_XSa7YcdnJJIkBxAD-fon24-eS1R7yhslR3aB_MbuQIhszYLg9gRhwXC2ftsdYRLckAOpDPwAPM3mIOCQ6ysp4osyffPWfdYlDClEtTQsx6DfIPt_QFwJXlhxf_4QxtnNW3g5tXmHhgnPd_UE4JOwZSr8Dm6WkEuxO0LK1MS_FixiGfT4xyck3C8oOwKuGZBa_dAhxuW-aG0o7pLOdJfKmQzaEteyurM3XFjOvMuY-JOE6kBgVo7zqiQiO3vbCczssPCeAu42ZfAdXJRftEJVy7_pdNW-SsdYsPoGjFpGzMdj20NOM5nBbCbUvSxflu1GLm0FyaXW7QoXWI3r-M0nWSgbB2lPhPI5lK7TYlZgRFptqHVHzbtgtZJNst9PHTPDFnIZVxHD_77cXvUUl3PdCYZMkutcfkLd7J0mL-m9y4VwLIIp7U-Qfluk3Y7TCcbQBJV9sQMHKNVo.7FUt5-QcQUEabex1wzHQwA'
        });
    }

    async conversation() {
        const { question } = this.ctx;
        const result = await this.api.sendMessage(question);
        console.log(result)
    }
}
